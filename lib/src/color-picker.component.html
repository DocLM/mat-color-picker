<button type="button"
    class="btn-picker"
    cdkOverlayOrigin
    #trigger="cdkOverlayOrigin"
    [style.backgroundColor]="selectedColor || 'none'"
    (click)="toggle()">
</button>

<ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isOpen">

    <mat-card class="color-picker">

        <mat-color-picker-selector 
            (changeSelectedColor)="selectedColor = $event">
        </mat-color-picker-selector>

        <mat-card-content>

            <mat-color-picker-collection [label]="usedColorLabel" 
                                        [colors]="usedColors$ | async">
            </mat-color-picker-collection>

            <ng-content></ng-content>

        </mat-card-content>

        <mat-card-actions>
            <mat-grid-list cols="2" rowHeight="30px;">
                <mat-grid-tile>
                    <button mat-button>Cancel</button>
                </mat-grid-tile>
                <mat-grid-tile>
                    <button mat-button>OK</button>
                </mat-grid-tile>
            </mat-grid-list>
        </mat-card-actions>

    </mat-card>

</ng-template>